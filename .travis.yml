language: java

jdk:
  - oraclejdk8

env:
  global:
    - secure: "FqZP6Pk9aGa1EoFjmEyN/OOFU/esPRn1SkLXxBwSzXB8s14Ghv33Q37Vy77Vf+0Nq+kurttLaSe1UNF/s9CS+Wfw8J7sp7PwpAAl4ugmEOMB4PZTjW/naZ7xGSXME6vooDpT+AYIbeiD2EawImU1zi7LYh/5i/H2f3DaeV1XRCOaq5TWBj5bCkbYj861wD6QxMRzChN6CQo1Y9DXoU4MatDmL4uTiuBG5icJs9p/o15kF0lwcSUdK9+u2wHE5Ld7TOA0rH24Nf2tuNeTFFn0bv/WXLgx9Nz/Opi0yADxJGG+8xUGHvyD8yS63V1G7PHrXRz7mxB/4mPze47bq3JIAnXS9qQhb9SmKMIzfOhGNdGCtksPQj/d+o9e2PYJd95BWrH4HeZMuNCaugaNoh+CFpN+0mFsygvAKyDIchBVw4OyfgQSj1e4Vy2zumX/vcqGEbbXbOaOMoccm/sw1VUKbyEv1EzxEnElLAUCcxGybmw/vC7FZCxxdwFq+hgZV9dscVm63HVhxDml5qxwLqA51e89mcgFDFkvMsyaIkYvDAPc9WLhvcABMTsmnp3x3ltI7VGD71/UCBFpVNg7pWFvoH3G5DTgQrXmMdmJVKbLZjjLpm9v1Xtk3cierHhNj3myShTzR2hBhacFazxLpr8bGk9NTbLQAbkuDRu1cuqSsh4="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "EZZzVvlyZuMJvge/ibkvL98UQxZxg7sCzWEVlBYc4GF4e1Xh63fiDzNn3B4Egwkamx3OC9Nm+HUQ9OcMNrQy4fqhteEstZid+YiF1FnvwnuPQkqCk3N6Tg/AxVH1OtWN9mgwXp3MM5t2q9Mv8g0HF6VN2R/rps4V/jBR2cu+HKjBVlLzG3y8VM8Oc0g/jTXSMhPJcCe9+56LgD/xx53AIxfJ5rTi4GfRhL3VwnbxRfH5FOxOE0054EOatwkbPb8JQd4I1oG6piwurCb2Z844F2r/ChG66+LoGKY3F1n+e2W1tttgIKZuFCikfWMP2KrPF3UckL+mMjn/ZucTjSHsvD2yLnXCVI3bhdTKMEZj7F6H6z1ffhfOa2H/oexSzmsL0YWYTitpJNV1SCeXrpWQgXov0p9BcFgdEWya5bIXBmut6nOEzOaMbdC1cKSDwF0SNr2DnTrO7TeeE+PFyrcKMt4ZgVtDn2W4NiWS2uWmGnL1/Y9enOKHY3V6Qa9EJ6u4JOTCoSV7YViq1WDqmfIlC10gO+c4Avu6Zq2ZtTGtReUIGMjKBIkkEO1Ac6ivkjVie7M4tw+nw93kvQNRJST6osTguIPYAu75oEdcyiOPMl4Z/M4oQU9+DNmv2av5aqwMwjOu5rthpOjUOKoK6vEemmQ3JCGzIa2j/4WrsTAMYxQ="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "NfvKMrOWu1vnJGVLJ2YKtjHNnrCxjBB0R6UtT2TmXD7/bTGtYwHhc8sZsoG1rwq/la9xslXVYpAkuHh/x1lBnSrwP0Tni+LuK8LKu2KgyjRnSulzeS15NuDbWN6FGU/NOx+Q4Y/7glgjvRujE44j416HcJRhaDQucxtvO41FYtvFd59+viIoe6TN55XNKnJ2pvqvPEHZ+hQIdbUH7GLK8eltrtfEA/0W+3Ll1m/ZOQ05r4ov/RKprUFcFXxAX+TR31FK1Hj0LHZyxXJTTxfvHKnfYK1opYrhK7EUvhdX8z8DEY+QNm0od4L3Kujmu25IqAvOwAl4SScviBACI7r/InnqaArEOKRRGvFbNPoZexsJyEfXtbkciJM31b4YhvP63rUJD2Z0aryzooUs+R9VYSae6LmEcG9hW0w/AHnewFzIy3PZOi/1/xk3Ki/W8Ew+103vfzfEHfko+Ll8bWy4llTTPa78utlIWLZWuLoVJJfeKcnc2rDpX2h/o+/7gMA3VrgldZE5NtA5Jf4e2h9vdCq8pB9P8LaBqut2CzMaWxdmd4D1VySz/6F7glA205/BsbplIGwNlbfrDCNO3geKMzilJcEJ4tKOcnQ3my3BXa/kHFjvLqzuE5Br8QgK0AxUW8qOFyw8xqgz1NZkD9YSl1WDYA5tllyoSUJUUM2bnPk="
    - # ^^ GPG_KEY_NAME
    - secure: "c9EhwZ5jQSDEpK76l2CMooIfbMqvCAo2HY/jOkZfEJf9DwBGzoVXzsnOsmj3e17zsfEJZY2fr87fRhtEM4BMtKbG8GmrhxBg7jPALcEI1EZGf76G+zK28LNRvvJSsmatE7R7I9EvFwboURCXwCOcNC3x0IZsPQqB/1PrWA2s6GWwmQsxn9og9lYyw7Gu/NMpOvqo1YpS8q9OF9MIiYklPEoloxRRjg4xL9zfCKCcjsTSzY4O/oYmmGuQW9NNtq+HaMcIoLH8eb5MOXMnEddCzMdQRThg7dKTJxhtHeJjrh0gTeQTaB2HloNH+LYhydCwN/og//mi+pKtVftFYnnRoERmNk7QNyqvI6l7d7LMlw4R2424nmFVPlKIgGdN3DdTnSJMSHus+o8vcqK8MZIjd8kMNXMJIwFaJIyeSUYPSWNVvclyalAZrcW8FSBijICRJS616mTajx/ISImqcblUZy5Ys/DPsdVE+P4qp6JiO8r3aY8RDkKCfa2EmIMLft87PNdRng7rnPjykZ5fY4eNbW3939z12DigL1/6/q5BMyRxNs0LZzknKcUC3ABWTyUTpDeF6q7eq9MtE4W8EG+dJXhBiEAlrWVQiP7DtI/ipEJghXKzGILZgyE/VM3l8bxpaqApiehFQZs4kmZYMnXzWZaPojQRsZxP2nv2ZBjFQNE="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh