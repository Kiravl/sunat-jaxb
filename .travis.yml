language: java

jdk:
  - oraclejdk8

env:
  global:
    - secure: "WqaGmGEGphcsQTuMC2eaKXf7eDOCDLl0QTmA6YQYGwPkNdrU0OSfsG/YEiFIWSg6LLP8HEXX4oWHQt7CSyePCCHRfeog7UACe9hkf8QGbe6tUqwq6U8P1sP34Z0vhHMUClADpm6rZdLEqy1988qZ+nhbezEaaRjq3/nj1wk/T90j7z239f/P4tFToBIaSFZaQhpGS48Titgm1z+Dd8YugyUXmOFQuT2DIYlJcn2Mg7/NBRUlCTqer3zjtbsMG+v8FyglUC9zVZZsU/6T31fajajngLm90JcW0Rc0B6kgEShJZpcce9EaKJKPzoXaq4nwpeYwx2B5x6Vd2EMqmI+DCXPwR+dgGdDpyPi/rL7dyRinzD/uzib2LGUm0NO5ZS3KX3A5W48qcU5HfkpVMVug2PEi2s91U3iAf91/aXIsGZfQCtIZqCoDsGsJgrLrKhydDE9KI9fXhPuQSkCzrj2Dcq0sAH/Cvc/SYrCHw8G7Qe5WvFc429g8ifeIXSFXJoA80s+2D/53mvOiFNm+5pUky4Fz4g2ta8LjmqjWL8Gp1Oap5eaL8m+2lqLG1Dq6GW1teP9iv9tyfRHGZsaLRpyTZG8kirojuHYSSxqZzjxypsetWloKwfqgaAG+5XCxkiw7KypOcnpvxRUe5ba9XcssvXQtbvvNlfF5siv5XezR8gg="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "TQefVPrN0k2U17J9wmHZ+cVCnHC6PIVox2oCNilbAYWImGtZvmZqIsvEmUoULGRPGKwEUT3c0nCHjKoozjpC+0FoscFBJjGauqLqFvECpEoP6eVnSN2U8yVig+rVmOz7CUjT1Ao7ihp5ef86zxHbq5oNayjcdhSQ4/e52uZhKIRuiKao7J4UABe4Lfs42xb3sbRxYActG+Wv4Fo2Y1x8bt8YMke8ll3Pgn9essIGECioNnb5j0noLU8UuFgIwVtfEnMry8jWHlaXJse7ceMPPnb0+y4XWLD2JXAzPKU5ULDChS8joLGQLKL6UvHQE6Nrm65FCBfDx7cXeqmQqtPsJ+osH58sdAojJcqB22jDUhHfElc1td33rBKg0BmxrsU/eRs+ggVqdulvXZmSthPQw3HwcZ15lE1UnM6E1cj6Y+YtdrGm4SL7xeNlQB+hMJdULngn7bM55u7YJjnojOein6pAhpGK2sVa2JGCXrCMIhRNUJr44JH+XC+YtnkAUIrOA3OJuRLXLB0CbokWXfpooc1LQ5K6iVTtO/tvACi+HYJVP6dKoND9kW0b6TuN8v8piuJMIrioQW1QuQ+KPtQqQeLRpdeQVLdSo9gMY6+2NUVKNRtoljyrwJ3pSq7jS2kC1zIejcJmIa4/nnLdllA5fbWzG4LUBxv1mbLxmZnZjoQ="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "avZGbP2Pf/j4C2X4YvZVCzffZ40AEHmdUgDI0Mmv2mEbpt+PjDoMpXmtNVMpv6LtUMQst+7JMrd3h/K2htSpqL1Diwgk3/h6bogvXmifBTraJgIHx3xfd7S++tGZ5107iZv7GgNc5D0TsdLbMtc/h1gxjaECKu/A1gH9gp+FcIs5oe4n5gQ017frmMkqVXcYnpiR9+jqzcOTNaq3vooYADh+MbzAqdh7yOUTPPvQTk8rNbxUxQP7dukX7UpKkGJ3jJ2uogyRLmVs/tXj2ZVBnwiBpG8VSS+ji0BiXvzlm/PgNtDZrnrHeJ5VW4sBV0pgoueS/IZlOy7JeqxnwF39iDmYKVW0EqXM0IWArDdwkWa8FLrZkyn2gt5nWxM22nZicBbzM8wr37l9g4fXNqNc0Kes7BEZkcnfkgtZyCfXIP7+JoAQ7GwGeN5/fatQIj/LsSWG4HOIVqGjphksC5D9speWZyRTvb/mKcuC0rLjfcWich/enZe5dRbUpV3uMLvB7aYArFI/4I3Z+Tv9fHdzXb8Qycpt+k8COVZZGmoF0LuOqNFptZFhwO5UQZaHcEIp8XKTPFb2V9dtNBhzzbZ4VJ5128F61sIVUBd5mKRmI4h/BJz1agB+s+sVKMeuG2zscyWuZBB3jr0KoBTPxYSqlgor/6akrBFdoXrZLZDIJB8="
    - # ^^ GPG_KEY_NAME
    - secure: "Ix8YbhTJl3nDfLADzrrIEQZTARtqFoobzDqJvYQ8ivKB6qM9JMl+jr+2WYre5GL8U+FnANCF1pv59Hh4eA99YDEMljxvEi2V40ylXz6HE08pHRa7l3fHN6TdBaJEjjkaAYWkPV0Wo1arhySgAyWKr1WYELW62KickrPK79PcZFVHEt/0AK/cc/3a/GSe23bmeftv3d/EmzOs2pMqq3GOnSmdu74hpM0ggr+iVYPN+hYJAxlheDzHMLJemxPqCstxni/YzLajYWn47vGhYXkR4hooSflbhJqNxrErKWyaXyTvq5ocJn5QBF6h/R53z1MLtuHt7SRVYWCQ4PBHiaQRWUFWh3JQO4KWbuipYUmg60CiWZWLSIv1/fATfchsU4lBor29Y416KQfIcsXxGGwg+Wb7/0RUfmw5PUvrz3QAn2ko8Hfb1Is8/UDIYXGk8CScQSWRdgo2lss6RyLP0DxUgwFiVm4EgXyEB7QZEuPN18SjbHBEwkKvpm2wEWvYQizS6GO9MQq/Ie0kISJYJ6msoY8ATdfKB4PPLgUBzRASN0bHALkwMP84ki7LNXzpMOUmKZA033TBkKN6+IVudtTA5UpBuo8dk8epAqSZZ6hzLqxARU4KfwzeU3394Go2wf0qdH5asrNE65Z1oBL6R4OdTScAco2fvHEOD3vY7FLvL1k="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V

script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh